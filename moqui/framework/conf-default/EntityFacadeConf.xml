<?xml version="1.0" encoding="UTF-8" ?>
<!-- No copyright or license for configuration file, details here are not considered a creative work. -->

<entity-facade-conf xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/entity-facade-conf-1.0.xsd">

    <general-settings default-group-name="transactional" distributed-cache-clear-enabled="false"
                      entity-eca-enabled="true" sequenced-id-prefix=""/>

    <!-- this is used for both transaction and data source access -->
    <app-server-jndi context-provider-url="rmi://127.0.0.1:1099"
                     initial-context-factory="com.sun.jndi.rmi.registry.RegistryContextFactory"
                     url-pkg-prefixes="java.naming.rmi.security.manager"
                     security-principal="" security-credentials=""/>


    <!-- Use this one for the internal transaction manager -->
    <transaction-factory factory-type="internal"/>
    <!-- Use this one for getting the JTA objects from JNDI
    <transaction-factory factory-type="jndi" transaction-manager-jndi-name="java:comp/UserTransaction" user-transaction-jndi-name="java:comp/UserTransaction"/>
    -->
    <!-- UserTransaction JNDI name for most servers: java:comp/UserTransaction (most servers: Resin, Orion, OC4J, etc)
        JBoss (separate objects): "java:comp/UserTransaction" and "java:comp/TransactionManager"
    -->

    <datasource group-name="transactional" database-config-name="derby" schema-name="MOQUI">
        <inline-jdbc jdbc-uri="jdbc:derby:moqui_transactional;create=true"
                jdbc-username="moqui" jdbc-password="moqui"
                pool-minsize="2" pool-maxsize="50"/>
    </datasource>
    <datasource group-name="analytical" database-config-name="derby" schema-name="MOQUI">
        <inline-jdbc jdbc-uri="jdbc:derby:moqui_analytical;create=true"
                jdbc-username="moqui" jdbc-password="moqui"
                pool-minsize="2" pool-maxsize="10"/>
    </datasource>
    <datasource group-name="tenantcommon" database-config-name="derby" schema-name="MOQUI">
        <inline-jdbc jdbc-uri="jdbc:derby:moqui_tenantcommon;create=true"
                jdbc-username="moqui" jdbc-password="moqui"
                pool-minsize="2" pool-maxsize="10"/>
    </datasource>

    <!-- some examples of how other databases would be configured -->
    <!-- PostgreSQL
    <datasource group-name="transactional" database-config-name="postgres" schema-name="public">
        <inline-jdbc jdbc-uri="jdbc:postgresql://127.0.0.1/moqui_transactional"
                jdbc-username="moqui" jdbc-password="moqui"
                pool-minsize="2" pool-maxsize="50"/>
    </datasource>
    -->
    <!-- MySQL
    <datasource group-name="transactional" database-config-name="mysql"
                check-pks-on-start="false">
        <inline-jdbc jdbc-uri="jdbc:mysql://127.0.0.1/moqui_transactional?autoReconnect=true"
                jdbc-username="moqui" jdbc-password="moqui"
                pool-minsize="2" pool-maxsize="50"/>
    </datasource>
    -->
    <!-- Oracle
    <datasource group-name="transactional" database-config-name="oracle" schema-name="MOQUI">
        <inline-jdbc jdbc-uri="jdbc:oracle:thin:@127.0.0.1:1521:moqui_transactional"
                jdbc-username="moqui" jdbc-password="moqui"
                pool-minsize="2" pool-maxsize="50"/>
    </datasource>
    -->
</entity-facade-conf>
