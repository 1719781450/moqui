<?xml version="1.0" encoding="UTF-8"?>
<!--
Copyright 2010 David E. Jones

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<entities xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../xsd/entity-definition-1.0.xsd">

    <!-- ========================================================= -->
    <!-- org.moqui.screen.subscreen -->
    <!-- ========================================================= -->

    <entity entity-name="SubscreensItem" package-name="org.moqui.screen.subscreen">
        <field name="screenLocation" type="id" is-pk="true"/>
        <field name="subscreenName" type="text-medium" is-pk="true"/>
        <field name="userId" type="id-vlong" is-pk="true">
            <description>These settings are per-user. To apply to all users set this to "_NA_".</description>
        </field>
        <field name="screenLocation" type="text-long"/>
        <field name="menuTitle" type="text-medium">
            <description>The title to show for this subscreen in the menu. Can be used to override subscreen titles
                in the screen.default-menu-title attribute and the subscreens-item.menu-title attribute.</description>
        </field>
        <field name="menuIndex" type="number-integer">
            <description>Insert this item in subscreens menu at this index (1-based).</description>
        </field>
        <field name="menuInclude" type="text-indicator">
            <description>Defaults to Y. Set to N to not include in the menu for the subscreens. This can be used to
                hide subscreens from the directory structure or even explicitly declared in the Screen XML file.
            </description>
        </field>
        <relationship type="one-nofk" rel-entity-name="UserAccount">
            <description>No FK in order to allow externally authenticated users.</description>
        </relationship>
    </entity>

    <!-- ========================================================= -->
    <!-- org.moqui.screen.dynscreen -->
    <!-- ========================================================= -->

    <entity entity-name="DynamicScreen" package-name="org.moqui.screen.dynscreen">
        <field name="screenId" type="id" is-pk="true"/>
        <field name="screenName" type="text-medium"/>
        <field name="screenSetId" type="id"/>
        <field name="userId" type="id-vlong">
            <description>These settings are per-user. To apply to all users set this to "_NA_".</description>
        </field>
    </entity>
    <entity entity-name="DynamicScreenInclude" package-name="org.moqui.screen.dynscreen">
        <field name="screenId" type="id" is-pk="true"/>
        <field name="includeSeqId" type="id" is-pk="true"/>
        <field name="sequenceNum" type="number-integer"/>
        <field name="panelSeqId" type="id"/>
        <field name="areaEnumId" type="id"><description>Options include: header, left, center, right, and footer.</description></field>
        <field name="screenLocation" type="text-long"/>
    </entity>
    <entity entity-name="DynamicScreenIncludeParam" package-name="org.moqui.screen.dynscreen">
        <field name="screenId" type="id" is-pk="true"/>
        <field name="includeSeqId" type="id" is-pk="true"/>
        <field name="parameterName" type="text-medium" is-pk="true"/>
        <field name="parameterValue" type="text-long"/>
    </entity>
    <entity entity-name="DynamicScreenPanel" package-name="org.moqui.screen.dynscreen">
        <field name="screenId" type="id" is-pk="true"/>
        <field name="panelSeqId" type="id" is-pk="true"/>
        <field name="areaSizeUnit" type="id"><description>Options include: px, and em (defaults to px).</description></field>
    </entity>
    <entity entity-name="DynamicScreenPanelArea" package-name="org.moqui.screen.dynscreen">
        <field name="screenId" type="id" is-pk="true"/>
        <field name="panelSeqId" type="id" is-pk="true"/>
        <field name="areaEnumId" type="id" is-pk="true"><description>Options include: header, left, center, right, and footer.</description></field>
        <field name="areaSize" type="number-decimal"/>
        <field name="draggable" type="text-indicator"><description>Options include: Y or N, defaults to N.</description></field>
    </entity>
    <entity entity-name="DynamicScreenSet" package-name="org.moqui.screen.dynscreen">
        <field name="screenSetId" type="id" is-pk="true"/>
        <field name="screenSetName" type="text-medium"/>
    </entity>
    <!--
     TODO: support panels within panels?
     TODO: how to use this along with subscreens and menus in subscreens versus screen sets? just use subscreens?
    -->

    <!-- ========================================================= -->
    <!-- org.moqui.screen.dynform -->
    <!-- ========================================================= -->

    <entity entity-name="DynamicForm" package-name="org.moqui.screen.dynform">
        <field name="screenId" type="id" is-pk="true"/>
    </entity>
</entities>
