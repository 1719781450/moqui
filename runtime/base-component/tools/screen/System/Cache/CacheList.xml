<?xml version="1.0" encoding="UTF-8"?>
<!--
This is free and unencumbered software released into the public domain.
For specific language governing permissions and limitations refer to
the LICENSE.md file or http://unlicense.org
-->
<screen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="http://moqui.org/xsd/xml-screen-1.5.xsd">

    <transition name="clearCache">
        <actions><script>ec.cache.getCache(cacheName).clear()</script></actions>
        <default-response url="."/>
    </transition>
    <transition name="clearAllCaches">
        <actions><script>ec.cache.clearAllCaches()</script></actions>
        <default-response url="."/>
    </transition>
    <transition name="cacheElements">
        <default-response url="../CacheElements"/>
    </transition>

    <actions>
        <set field="cacheList" from="ec.cache.getAllCachesInfo(orderByField?:'+name')"/>
    </actions>
    <widgets>
        <container>
            <link text="Clear All" url="clearAllCaches"/>
        </container>
        <form-list name="CacheList" list="cacheList">
            <field name="name">
                <header-field show-order-by="true"/>
                <default-field><link text="${name}" url="cacheElements" link-type="anchor"><parameter name="cacheName" from="name"/></link></default-field>
            </field>
            <field name="size">
                <header-field show-order-by="true"/>
                <default-field><display also-hidden="false"/></default-field>
            </field>
            <field name="hitCount">
                <header-field title="Hits" show-order-by="true"/>
                <default-field><display also-hidden="false"/></default-field>
            </field>
            <field name="missCountTotal">
                <header-field title="Misses (NF/EX)" show-order-by="true"/>
                <default-field>
                    <display text="${missCountTotal} (${missCountNotFound}/${missCountExpired})" also-hidden="false"/>
                </default-field>
            </field>
            <field name="removeCount">
                <header-field title="Removes" show-order-by="true"/>
                <default-field><display also-hidden="false"/></default-field>
            </field>
            <field name="expireTimeIdle">
                <default-field title="Exp Idle"><display also-hidden="false"/></default-field>
            </field>
            <field name="expireTimeList">
                <default-field title="Exp Live"><display also-hidden="false"/></default-field>
            </field>
            <field name="maxElements">
                <default-field title="Max (Evct)">
                    <display text="${maxElements} (${evictionStrategy})" also-hidden="false"/>
                </default-field>
            </field>
            <field name="clear">
                <default-field><link text="Clear" url="clearCache" link-type="hidden-form-link"><parameter name="cacheName" from="name"/></link></default-field>
            </field>
        </form-list>
    </widgets>
</screen>
